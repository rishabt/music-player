<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Team Music | Welcome</title>
    {% load staticfiles %}
    <link rel="stylesheet" href="{% static "css/foundation.css" %}" />
    <link rel="stylesheet" href="{% static "css/foundation.min.css" %}" />
    <link rel="stylesheet" href="{% static "css/animate.css" %}" />
    <link rel="stylesheet" href="{% static "css/normalize.css" %}" >
    <link rel="stylesheet" href="{% static "css/slick.css" %}" >
    <link rel="stylesheet" href="{% static "css/main.css" %}" >
    <style type="text/css">
    .bg{
    	max-width: 100%;
    	height: auto;
    	width: auto\9; /* ie8 */
    }
    </style>
    <script type="text/javascript">
     $( document ).ready(function() {
        if ({{error_message}}) {
            alert("Server under high load, try again later");
        }
    });
    </script>
    <script type="text/javascript">
        function promptSongLimit() {
            var f = document.createElement("form");
            f.setAttribute('method',"post");
            f.setAttribute('action',"/room/newroom/");

            f.innerHTML = "{% csrf_token %}";
            f.innerHTML += '{{ form }}';

            var s = document.createElement("input"); //input element, Submit button
            s.setAttribute('class', "button warning animated big rubberBand _8");
            s.setAttribute('type',"submit");
            s.setAttribute('value',"Submit");

            f.appendChild(s);

            document.getElementById('buttons').appendChild(f);

            var form_label = f.getElementsByTagName('label')[0];
            console.log(form_label);
            var old_html = form_label.innerHTML;
            form_label.innerHTML = "<h4 style='color:white !important'>" + old_html + "</h4>"

            // Set the number input field background to white and override any other // style
            var element = document.getElementById('id_song_limit');
            element.setAttribute('style', 'background-color:white !important');
        };
    </script>
  </head>
  <body>
	<div class="fixed">
    	<div class="inner-wrap">
    	<nav class="tab-bar df-tab-bar hide-for-large-upx stickyx">
    		<section class="left tab-bar-section">
    			<h1 class="title">
    				<span class="orangex ng-binding">Bieber Player</span> <span class="dim"></span>
    			</h1>
    		</section>
    		<section class="right-small">
                <a style="margin-left: -50px;" href="mailto:team_music@ecse428.se">
                    Contact Us
                </a>
            </section>
    	</nav>
    	   <aside class="right-off-canvas-menu">
                <ul class="off-canvas-list">
                    <li>
                        <label>Menu</label>
                    </li>
                    <li>
                        <a href="#/">HOME</a>
                    </li>
                </ul>
           </aside>
    	</div>
	</div>
  	<div class="animated-page-hero ng-scope">
            {% load staticfiles %}
            <img src="{% static "img/NYC2.jpg" %}" alt="" class="big-hero-img show-for-large-up animated fadeInDown">
            <img src="{% static "img/NYC2.jpg" %}" alt="" class="big-hero-img show-for-medium-only animated fadeInDown">
            <img src="{% static "img/NYC2.jpg" %}" alt="" class="big-hero-img show-for-small-only animated fadeInDown">
            <div class="row-wrapper">
                <div class="row">
                    <div class="small-12 columns text-center">
                        <div class="hero-text ">
                            <h1 class="animated fadeInUp _1 "><span class="orangeX">Team</span> Music</h1>
                            <hr class="animated fadeInUp _2">
                            <h3 class="sub-hero show-for-large-upx animated fadeInDown _3">Host your own party</h3> <br>
                            <div class="animated fadeInDown _4" id="buttons">
                                <a class="button warning animated big rubberBand _8" href="javascript:promptSongLimit();">
                                    Create new room
                                </a>
                                <a class="button warning animated big rubberBand _8" href="#" data-reveal-id="partyIdModal">         Enter a Party
                                </a>
                                {% if messages %}{% for message in messages %}<!--<p><strong><center>{{ message }}</center></strong></p>-->                                <script type="text/javascript">alert('{{ message }}')</script>
                                {% endfor %}{% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </div>
    <div id="partyIdModal" class="reveal-modal" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
      <h2 id="modalTitle">Enter your party code</h2>
        <form id="createRoomForm">
          <div class="row">
            <div class="small-8 columns">
              <div class="row">
                <div class="small-3 columns">
                  <label for="right-label" class="right inline">Party #</label>
                </div>
                <div class="small-9 columns">
                  <input type="number" id="room_id" placeholder="00000"/>
                </div>
              </div>
            </div>
          </div>
        </form>
        <div class="row">
            <div class="small-12 columns">
              <button id="submitButton" class = "button alert right" placeholder="Submit">Submit</button>
            </div>
        </div>
      <a class="close-reveal-modal" aria-label="Close">&#215;</a>
    </div>

  </body>
  <script src="{% static "js/vendor/modernizr.js" %}"></script>
  <script src="{% static "js/vendor/jquery.js" %}"></script>
  <script src="{% static "js/vendor/placeholder.js" %}"></script>
    <script src="{% static "js/foundation.min.js" %}"></script>
    <script src="{% static "js/foundation/foundation.topbar.js" %}"></script>
    <script src="{% static "js/foundation/foundation.reveal.js" %}"></script>
    <script type="text/javascript">
        $(document).foundation();
    </script>
    <script src="{% static "js/moment.js" %}"></script>
    <script src="{% static "js/slick.min.js" %}"></script>
    <script src="{% static "js/wow.js" %}"></script>
    <script src="{% static "js/amplify.js" %}"></script>
    <script src="{% static "js/MobileServices.Web-1.2.2.min.js" %}"></script>
    <script type="text/javascript">
    function createRoom(){
      var room_id = $("#room_id");
      var submitButton = $("#submitButton");
      submitButton.click(function(){
        window.location.replace("/room/" + room_id.val());
      })
    }
    createRoom();
    </script>

</html>
